<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="Preamble Hey Team! I loved Sublime Text. I really did. I used it for everyhting from remote python dev on supercomputers, to writing academic papers in LaTeX (see my old guide on getting it set up for proof). When VSCode came out with its &amp;ldquo;Remote Explorer&amp;rdquo; functionality I was torn. It was just too useful for the remote work I was doing, but it meant switching to a heavy electron app."><meta name=keywords content="homepage,blog,benchmarking"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://adreasnow.com/posts/vscode-vs-zed/><title>VSCode vs Zed (vs GoLand) for energy consumption :: Adrea Snow
</title><link rel=stylesheet href=/main.30656cf6cc2ee1a47aa579e5c4bd5726f790db131f71835d5ccccbfc6f4b8ec1.css integrity="sha256-MGVs9swu4aR6pXnlxL1XJveQ2xMfcYNdXMzL/G9LjsE="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="VSCode vs Zed (vs GoLand) for energy consumption"><meta itemprop=description content="Preamble Hey Team! I loved Sublime Text. I really did. I used it for everyhting from remote python dev on supercomputers, to writing academic papers in LaTeX (see my old guide on getting it set up for proof). When VSCode came out with its “Remote Explorer” functionality I was torn. It was just too useful for the remote work I was doing, but it meant switching to a heavy electron app."><meta itemprop=datePublished content="2024-06-10T16:24:22+10:00"><meta itemprop=dateModified content="2024-06-10T16:24:22+10:00"><meta itemprop=wordCount content="1212"><meta itemprop=image content="https://adreasnow.com/"><meta itemprop=keywords content="Benchmarking"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://adreasnow.com/"><meta name=twitter:title content="VSCode vs Zed (vs GoLand) for energy consumption"><meta name=twitter:description content="Preamble Hey Team! I loved Sublime Text. I really did. I used it for everyhting from remote python dev on supercomputers, to writing academic papers in LaTeX (see my old guide on getting it set up for proof). When VSCode came out with its “Remote Explorer” functionality I was torn. It was just too useful for the remote work I was doing, but it meant switching to a heavy electron app."><meta property="article:published_time" content="2024-06-10 16:24:22 +1000 +1000"><script async src="https://www.googletagmanager.com/gtag/js?id=G-YLHLDMXTVX"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YLHLDMXTVX")}</script></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>$</span>
<span class=logo__text>adreasnow.com</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/academic>Academic Site</a></li><li><a href=/posts>Blog</a></li><li><a href=/coding_stats>Coding Stats</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
6 minutes</p></div><article><h1 class=post-title><a href=https://adreasnow.com/posts/vscode-vs-zed/>VSCode vs Zed (vs GoLand) for energy consumption</a></h1><div class=post-content><h2 id=preamble>Preamble</h2><p>Hey Team!
I loved Sublime Text. I really did. I used it for everyhting from remote python dev on supercomputers, to writing academic papers in LaTeX (see <a href=https://adreasnow.com/academic/Cheat%20Sheets%20and%20Play/Cheat%20Sheets/LaTeXSetup/#theme-for-non-latex-files>my old guide on getting it set up</a> for proof). When VSCode came out with its &ldquo;Remote Explorer&rdquo; functionality I was torn. It was just too useful for the remote work I was doing, but it meant switching to a heavy electron app.</p><p>I missed the responsiveness of Sublime Text, but I found a new peace in the added functionality of the VSCode extention ecosystem.</p><h3 id=post-academia>Post Academia</h3><p>I <a href=https://adreasnow.com/academic/>left academia about 9 months ago</a>, and have happily been working at <a href=https://www.xero.com/au/>Xero</a>, a publicly traded accounting software company in a DevOps focused role. I don&rsquo;t get to play too much to with code these days, and if I wanted to, it&rsquo;d unfortunately be .NET (I&rsquo;m a full blown gopher for sure, so this hurts me in my soul).</p><p>The takeaway is that instead of using SSH connections to access remote servers, these days I&rsquo;m focusing on editing all the falvours of yaml (k8s, GHA, dependabot, cloudformation), terraform, json, TeamCity flavoured kotlin, and all the other boring stuff that one edits locally and runs remotely.</p><p>Thankfully, most of these tools have their own language servers, or rely on common syntax, so my need for fancy features has largely disappeared. There are a couple of exceptions of course, but thankfully Xero is nice enough to pay for Intellij Idea for validating TeamCity Kotlin, and Rider for handling all the .NET nonsense.</p><h3 id=moving-away-from-vscode>Moving away from VSCode</h3><p>VSCode has become the default and with it my shiny M2 macbook pro has been reduced to a 3-4 hour battery life. So naturally I turned back to my old love Sublime Text for something a bit native. I&rsquo;m sorry to say it, but it&rsquo;s feeling old&mldr; The plugin system feels outdated, the tree of config files is a mess, and just getting go to work the way I wanted took four different plugins to set up.</p><p>I&rsquo;m not sure if you&rsquo;ve heard yet, but there&rsquo;s a hot new native code editor in town called <a href=https://zed.dev>Zed</a>. It boasts better performance than Sublime text, a more minimalistic layout, an inbuilt extenstions system, community collaboration tools, (optionsl) AI integration, native shared sessions, extremely parallel processing, etc.</p><p>It&rsquo;s what Sublime Text needs to be in 2024.</p><h2 id=energy-consumption>Energy Consumption</h2><p>I&rsquo;m sure you&rsquo;ve all fallen into the trap before, that you make some changes to your system but you just can&rsquo;t tell how those changes fit in the grand scheme of things since there&rsquo;s so much goping on. I was having this issue with deciding if Zed was really that much better on my battery life, so I decided to do a few little tests.</p><h3 id=the-tests>The tests</h3><p>My testing protocol was simple:</p><ul><li>Start an energy profiler</li><li>Use VSCode in a &ldquo;Real world&rdquo; coding setup for 30 minutes<ul><li>This was a minimal set of extensions, with just what was needed to get Go working as desired</li><li>A full setup with all your plugins and tool extensions (Docker, DB connectors, etc.) would likely be even worse&mldr;</li></ul></li><li>Collect the data</li><li>Repeat with Zed</li></ul><p>Power profiling is a really non-trivial concept since you can&rsquo;t directly correlate CPU/GPU/memory usage to power due to complex schedulers running on complex architectures, however I decided to make my life a little easier by using apple&rsquo;s <code>powermetrics</code> tool (<a href=https://www.unix.com/man-page/osx/1/powermetrics/>manpage</a>).</p><p>The tool was simple enough to use. just call the tool as root, tell it to poll every 15 seconds, and spit out the average power usage every time it polls:</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo powermetrics -i <span style=color:#d19a66>15000</span> --poweravg <span style=color:#d19a66>1</span>
</span></span></code></pre></div><p>Then I could grep out the program&rsquo;s process from there and collate the data later (The &ldquo;<code>]</code>&rdquo; is important for getting the process from the right section of the output, the &ldquo;Average cumulatively decayed power score&rdquo;):</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo powermetrics -i <span style=color:#d19a66>15000</span> --poweravg <span style=color:#d19a66>1</span> | grep <span style=color:#98c379>&#39;]Zed&#39;</span>
</span></span></code></pre></div><h3 id=getting-the-process-tree>Getting the Process tree</h3><p>While this would work for Zed (ignoring its child <code>gopls</code> instance, VSCode is an ugly mess, so instead I needed to pull out the processes using <code>pstree</code> (use activity monitor to get the parent pid, call it with <code>pstree &lt;pid></code>):</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>-+<span style=color:#56b6c2>=</span> <span style=color:#d19a66>55060</span> adrea /Applications/Visual Studio Code.app/Contents/MacOS/Electron
</span></span><span style=display:flex><span> |--- <span style=color:#d19a66>55061</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper <span style=color:#56b6c2>(</span>GPU<span style=color:#56b6c2>)</span>.app/Contents/MacOS/Code Helper <span style=color:#56b6c2>(</span>GPU<span style=color:#56b6c2>)</span> --type<span style=color:#56b6c2>=</span>gpu-process --user-data-dir<span style=color:#56b6c2>=</span>/Users/adrea/Library/Application Support/Code
</span></span><span style=display:flex><span> |--- <span style=color:#d19a66>55062</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper --type<span style=color:#56b6c2>=</span>utility --utility-sub-type<span style=color:#56b6c2>=</span>network.mojom.NetworkService --lang<span style=color:#56b6c2>=</span>en-GB --service-sandbox
</span></span><span style=display:flex><span> |--- <span style=color:#d19a66>55100</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper --type<span style=color:#56b6c2>=</span>utility --utility-sub-type<span style=color:#56b6c2>=</span>node.mojom.NodeService --lang<span style=color:#56b6c2>=</span>en-GB --service-sandbox-type<span style=color:#56b6c2>=</span>
</span></span><span style=display:flex><span> |-+- <span style=color:#d19a66>55152</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper --type<span style=color:#56b6c2>=</span>utility --utility-sub-type<span style=color:#56b6c2>=</span>node.mojom.NodeService --lang<span style=color:#56b6c2>=</span>en-GB --service-sandbox-type<span style=color:#56b6c2>=</span>
</span></span><span style=display:flex><span> | <span style=color:#98c379>\-</span>-<span style=color:#56b6c2>=</span> <span style=color:#d19a66>57446</span> adrea /bin/zsh -il
</span></span><span style=display:flex><span> |--- <span style=color:#d19a66>57431</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper <span style=color:#56b6c2>(</span>Renderer<span style=color:#56b6c2>)</span>.app/Contents/MacOS/Code Helper <span style=color:#56b6c2>(</span>Renderer<span style=color:#56b6c2>)</span> --type<span style=color:#56b6c2>=</span>renderer --user-data-dir<span style=color:#56b6c2>=</span>/Users/adrea/Library/Application Suppor
</span></span><span style=display:flex><span> |-+- <span style=color:#d19a66>57433</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper <span style=color:#56b6c2>(</span>Plugin<span style=color:#56b6c2>)</span>.app/Contents/MacOS/Code Helper <span style=color:#56b6c2>(</span>Plugin<span style=color:#56b6c2>)</span> --type<span style=color:#56b6c2>=</span>utility --utility-sub-type<span style=color:#56b6c2>=</span>node.mojom.NodeService --lang<span style=color:#56b6c2>=</span>en-GB --ser
</span></span><span style=display:flex><span> | |--- <span style=color:#d19a66>57441</span> adrea /opt/homebrew/bin/gopls -mode<span style=color:#56b6c2>=</span>stdio
</span></span><span style=display:flex><span> | <span style=color:#98c379>\-</span>-- <span style=color:#d19a66>59872</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper <span style=color:#56b6c2>(</span>Plugin<span style=color:#56b6c2>)</span>.app/Contents/MacOS/Code Helper <span style=color:#56b6c2>(</span>Plugin<span style=color:#56b6c2>)</span> /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/ma
</span></span><span style=display:flex><span> <span style=color:#98c379>\-</span>-- <span style=color:#d19a66>57434</span> adrea /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper.app/Contents/MacOS/Code Helper --type<span style=color:#56b6c2>=</span>utility --utility-sub-type<span style=color:#56b6c2>=</span>node.mojom.NodeService --lang<span style=color:#56b6c2>=</span>en-GB --service-sandbox-type<span style=color:#56b6c2>=</span>
</span></span></code></pre></div><h3 id=running-the-tests>Running the tests</h3><p>Now I had to condense those down into a grep line for the processes (wrapped in square brackets) and we&rsquo;re off the the market:</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo powermetrics -i <span style=color:#d19a66>15000</span> -a <span style=color:#d19a66>1</span> | grep <span style=color:#98c379>&#39;\[55060\]\|\[55061\]\|\[55062\]\|\[55100\]\|\[55152\]\|\[57446\]\|\[57431\]\|\[57433\]\|\[57441\]\|\[57434\]|\[59872\]\|15 sec&#39;</span>
</span></span></code></pre></div><p>The &ldquo;``15 sec`&rdquo; ensures that it prints out the headers of the table each poll, so that I can tell them apart:</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>                                      	   <span style=color:#d19a66>15</span> sec    	   <span style=color:#d19a66>1</span> min     	   <span style=color:#d19a66>5</span> min     	   <span style=color:#d19a66>15</span> min    	   <span style=color:#d19a66>1</span> hr
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>57431<span style=color:#56b6c2>]</span>Code Helper <span style=color:#56b6c2>(</span>Renderer<span style=color:#56b6c2>)</span>          	   395.179	&lt;calculating&gt;
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>55100<span style=color:#56b6c2>]</span>Code Helper                     	   290.446	&lt;calculating&gt;
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>55060<span style=color:#56b6c2>]</span>Electron                        	     99.35	&lt;calculating&gt;
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>57441<span style=color:#56b6c2>]</span>gopls                           	    57.742	&lt;calculating&gt;
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>55061<span style=color:#56b6c2>]</span>Code Helper <span style=color:#56b6c2>(</span>GPU<span style=color:#56b6c2>)</span>               	   55.3173	&lt;calculating&gt;
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>57433<span style=color:#56b6c2>]</span>Code Helper <span style=color:#56b6c2>(</span>Plugin<span style=color:#56b6c2>)</span>            	   34.8403	&lt;calculating&gt;
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Perfect! now I just worked on my backlog of <a href=https://adventofcode.com>Advent of Code</a> challenges and wait for the data to come in. 30 minutes later, I would do the same for zed.</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>                                      	   <span style=color:#d19a66>15</span> sec    	   <span style=color:#d19a66>1</span> min     	   <span style=color:#d19a66>5</span> min     	   <span style=color:#d19a66>15</span> min    	   <span style=color:#d19a66>1</span> hr
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>38277<span style=color:#56b6c2>]</span>Zed                             	   381.262	&lt;calculating&gt;
</span></span><span style=display:flex><span><span style=color:#56b6c2>[</span>57872<span style=color:#56b6c2>]</span>gopls                           	   33.3986	&lt;calculating&gt;
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=collating-the-results>Collating the results</h3><p>Once I had the data, I averaged the results for each proc over each of the 15 second averages, and these were the results:</p><h4 id=vscode>VSCode</h4><table><thead><tr><th>Proc</th><th>Power</th></tr></thead><tbody><tr><td>Code Helper (Renderer)</td><td>777.308</td></tr><tr><td>Code Helper</td><td>58.0937</td></tr><tr><td>gopls</td><td>60.7302</td></tr><tr><td>Electron</td><td>152.095</td></tr><tr><td>Code Helper (Plugin)</td><td>37.4791</td></tr><tr><td>Code Helper (GPU)</td><td>131.038</td></tr><tr><td></td><td></td></tr><tr><td>Total</td><td>1216.744</td></tr></tbody></table><h4 id=zed>Zed</h4><table><thead><tr><th>Proc</th><th>Power</th></tr></thead><tbody><tr><td>Zed</td><td>413.203</td></tr><tr><td>gopls</td><td>57.6019</td></tr><tr><td></td><td></td></tr><tr><td>Total</td><td>470.8049</td></tr></tbody></table><h4 id=comparison>Comparison</h4><p>1216.744 ÷ 470.8049 = 2.58x</p><p>VSCode is 2.58x more power hungry than Zed. Even with a minimal setup. I&rsquo;m honeslty not sure why so much of this comes from the renderer&mldr;</p><h4 id=edit-goland-added-for-a-friend>Edit: GoLand (added for a friend)</h4><h4 id=zed-1>Zed</h4><table><thead><tr><th>Proc</th><th>Power</th></tr></thead><tbody><tr><td>goland</td><td>2907.65</td></tr><tr><td></td><td></td></tr><tr><td>Total</td><td>2907.65</td></tr></tbody></table><p>2907.65 ÷ 470.8049 = 6.18x &#x1f605;</p><h2 id=my-takeaway>My Takeaway</h2><p>Zed is still lacking a couple of features that I really miss from VSCode, such as:</p><ul><li>Source control pane<ul><li>That said, I do REALLY like the integrated inline git blame, and it does have git gutters</li></ul></li><li>Inbuilt build configurations (cmd + B to build)<ul><li><a href=https://zed.dev/docs/tasks>Tasks</a> are nice, but they lack the cleanliness of build configs, and I&rsquo;ve found that some of the variables like <code>$ZED_DIRNAME</code> and <code>$ZED_FILENAME</code> don&rsquo;t update straight away when you switch files</li></ul></li><li>Debugging support</li><li><a href=https://wakatime.com>WakaTime</a> Integration!<ul><li>I know, its not on the Zed people to do this, but still would be REALLY nice!</li></ul></li></ul><p>That said, I&rsquo;m going to use it as much as I can and support the Zed team however I can, since we&rsquo;re LONG overdue for a Sublime Text replacement, and I&rsquo;m not definitley giving that title to <a href=https://www.jetbrains.com/fleet/>JetBrains Fleet</a>! (This feels even more valid a statement after testing GoLand)</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=tag><a href=https://adreasnow.com/tags/benchmarking/>benchmarking</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
1212 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
2024-06-10 06:24</p></div><div class=pagination><div class=pagination__buttons><span class="button next"><a href=https://adreasnow.com/posts/moved-academic/><span class=button__text>I moved my academic blog</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.6b149a3704016b17413c9823d46cbce5c8b24d9f4ccf07d5ac7f59c22a5819bc9c5ba0ad35b8d91b4efb80e80fb74a51b63dc3e4e0cf07899089f0de26e49957.js integrity="sha512-axSaNwQBaxdBPJgj1Gy85ciyTZ9MzwfVrH9ZwipYGbycW6CtNbjZG077gOgPt0pRtj3D5ODPB4mQifDeJuSZVw=="></script></body></html>